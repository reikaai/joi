# Requirements Archive: v1.1 Eval Pipeline Rebuild

**Defined:** 2026-02-20
**Core Value:** Trustworthy experiment results so we can make defensible decisions about tool interfaces

## v1.1 Requirements

### Infrastructure (INFRA)

- [x] **INFRA-01**: Eval captures full response text + tool calls (fix serialization bug that discards list content)
- [x] **INFRA-02**: Corrupted v1.0 eval cache invalidated and re-recordable

### Capture & Review (CAPT)

- [x] **CAPT-01**: Experiment runs produce JSONL with full context (prompt, response text, tool calls, tokens, metadata) for Claude Code review
- [x] **CAPT-02**: Run metadata captured alongside results (model, git commit, timestamp, variant definitions)

### Experiment Harness (EXPR)

- [x] **EXPR-01**: Zero-persona experiment mode isolates tool interface as the only variable (minimal system prompt, no personality)
- [x] **EXPR-02**: Automated tool parity check verifies both variants can express all scenario behaviors
- [x] **EXPR-03**: Fixed timestamp injection for reproducible results (no datetime.now())
- [x] **EXPR-04**: Clean scenario set â€” self-contained, no external context dependencies, each tests one thing

### Strategy Selection (ANLS)

- [x] **ANLS-01**: Clean experiment data collected on both tool variants with fixed pipeline
- [x] **ANLS-02**: Results reviewed via LangSmith annotations + Claude Code JSONL analysis (blind review protocol)
- [x] **ANLS-03**: ADR updated or replaced with conclusions from clean data

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| INFRA-01 | Phase 7 | Complete |
| INFRA-02 | Phase 7 | Complete |
| CAPT-01 | Phase 8 | Complete |
| CAPT-02 | Phase 8 | Complete |
| EXPR-01 | Phase 8 | Complete |
| EXPR-02 | Phase 8 | Complete |
| EXPR-03 | Phase 8 | Complete |
| EXPR-04 | Phase 8 | Complete |
| ANLS-01 | Phase 9 | Complete |
| ANLS-02 | Phase 10 | Complete |
| ANLS-03 | Phase 10 | Complete |

**Coverage:** 11/11 mapped, 11/11 satisfied, 0 unsatisfied

---
*Archived: 2026-02-20*
